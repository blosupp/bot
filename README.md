# ü§ñ Telegram AI –ë–æ—Ç (–Ω–∞ GPT-4o)

–≠—Ç–æ—Ç –±–æ—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é GPT-4o –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏—Ö –≤ Telegram-–∫–∞–Ω–∞–ª—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –ò–º–µ–µ—Ç –≥–∏–±–∫—É—é —Å–∏—Å—Ç–µ–º—É —Ä–æ–ª–µ–π (superadmin ‚Üí admin ‚Üí user) –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Telegram.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úçÔ∏è –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ (—Ç–µ–∫—Å—Ç / –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ + –ø–æ–¥–ø–∏—Å—å)
- üì¢ –ê–≤—Ç–æ–ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –∫–∞–Ω–∞–ª—ã, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- ‚öôÔ∏è –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —á–µ—Ä–µ–∑ /–¥–æ—Å—Ç—É–ø
- üîê –†–æ–ª–µ–≤–æ–π –¥–æ—Å—Ç—É–ø (`user`, `admin`, `superadmin`)
- üß† –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞–º—è—Ç–∏ GPT (remember, history_limit)
- üß© –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π SQLite (`access.db`, `dialogues.db`)
- üåê –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è OpenAI GPT-4o —á–µ—Ä–µ–∑ API

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/your_username/your_repo.git
cd your_repo
python -m venv venv
source venv/bin/activate  # –∏–ª–∏ venv\Scripts\activate –Ω–∞ Windows
pip install -r requirements.txt
```

---

## üì¶ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```
BOT_TOKEN=xxx:yyy
OPENAI_API_KEY=sk-...
CHANNEL_ID=-1001234567890
ADMIN_ID=123456789
```

> üìå –•–æ—Ç—è `CHANNEL_ID` –∏ `ADMIN_ID` —É–∫–∞–∑–∞–Ω—ã, –≤—Å—ë —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (`access.db`).

---

## üß† GPT-–º–æ–¥–µ–ª—å

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å `gpt-4o` —á–µ—Ä–µ–∑ [OpenAI API](https://platform.openai.com/docs/api-reference/chat/create).

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bot/
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ start.py
‚îÇ   ‚îú‚îÄ‚îÄ help.py
‚îÇ   ‚îú‚îÄ‚îÄ text.py
‚îÇ   ‚îú‚îÄ‚îÄ photo.py
‚îÇ   ‚îî‚îÄ‚îÄ admin_panel.py
‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îî‚îÄ‚îÄ access_control.py
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ openai_service.py
‚îú‚îÄ‚îÄ db.py
‚îú‚îÄ‚îÄ access.py
‚îú‚îÄ‚îÄ config.py
‚îú‚îÄ‚îÄ main.py
```

---

## üîê –†–æ–ª–∏

| –†–æ–ª—å         | –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏                                |
|--------------|---------------------------------------------|
| `superadmin` | —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∏—Ö –∫–∞–Ω–∞–ª–∞–º–∏      |
| `admin`      | –º–æ–∂–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã      |
| `user`       | (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ, –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é)     |

–í—Å–µ —Ä–æ–ª–∏ –∏ –∫–∞–Ω–∞–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ `access.db`.

---

## üí¨ –ö–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞       | –î–æ—Å—Ç—É–ø        | –û–ø–∏—Å–∞–Ω–∏–µ                                      |
|---------------|---------------|-----------------------------------------------|
| `/start`      | –≤—Å–µ           | –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞                                   |
| `/help`       | –≤—Å–µ           | –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Å —É—á—ë—Ç–æ–º —Ä–æ–ª–∏                     |
| `/myid`       | –≤—Å–µ           | –£–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram ID                       |
| `/–¥–æ—Å—Ç—É–ø`     | admin+        | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å                          |
| `/add_admin`  | superadmin    | –ù–∞–∑–Ω–∞—á–∏—Ç—å –∞–¥–º–∏–Ω–∞                              |
| `/list_users` | superadmin    | –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ä–æ–ª–∏         |

---

## üì§ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤

- –ù–∞–ø–∏—à–∏ —Ç–µ–∫—Å—Ç ‚Äî –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ –∫–∞–Ω–∞–ª
- –û—Ç–ø—Ä–∞–≤—å —Ñ–æ—Ç–æ —Å –ø–æ–¥–ø–∏—Å—å—é ‚Äî –ø–æ–¥–ø–∏—Å—å –±—É–¥–µ—Ç –¥–æ–ø–æ–ª–Ω–µ–Ω–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞

---

## üíæ –•—Ä–∞–Ω–∏–ª–∏—â–µ

- `access.db` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Ä–æ–ª–∏, –∫–∞–Ω–∞–ª—ã
- `dialogues.db` ‚Äî –∏—Å—Ç–æ—Ä–∏—è –æ–±—â–µ–Ω–∏—è —Å GPT

---

## üß™ –ó–∞–ø—É—Å–∫

```bash
python main.py
```

---

## üßë‚Äçüíª –ê–≤—Ç–æ—Ä

–ü—Ä–æ–µ–∫—Ç —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω –ø–æ –∑–∞–¥–∞—á–∞–º.